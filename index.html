<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>test</title>
</head>

<body onload="load()">
    <button id="btn">click</button>
    <canvas id="canvas"></canvas>
    <script src="tool.js"></script>
</body>

<script>
    function load() {
        'use strict';

        var canvas = document.getElementById('canvas');
        var shape = new Shape(canvas);
        var engine = new Engine();
        var point = new Point();
        var promise = new Promise((resolve) => { resolve(); });

        document.getElementById('btn').addEventListener('click', start);

        function start() {
            document.getElementById('btn').removeEventListener('click', start);
            promise.then(() => engine.toText('四'))
                .then(() => engine.shake())
                .then(() => engine.toText('个'))
                .then(() => engine.shake())
                .then(() => engine.toText('大'))
                .then(() => engine.shake())
                .then(() => engine.toText('字'))
                .then(() => engine.shake())
                .then(() => point.clear())
                .then(() => document.getElementById('btn').addEventListener('click', start));
        }
    };
</script>
<style>

#canvas {width: 100%;height: 100%;padding: 0;margin: 0;}

body {
    background: -webkit-linear-gradient(top,#cbebdb 0,#c08937 100%);
    background: -moz-linear-gradient(top,#cbebdb 0,#c08937 100%);
    background: -o-linear-gradient(top,#cbebdb 0,#c08937 100%);
    background: -ms-linear-gradient(top,#cbebdb 0,#c08937 100%);
    background: linear-gradient(top,#cbebdb 0,#c08937 100%);
}
</style>
</html>